# [OverTheWire] — Bandit Level 0 → Level 5 完整 Writeup

**平台**：OverTheWire  
**題目 / 房間**：Level 0 → Level 5  
**完成日期**：2025-10-02  
**時間花費（預估）**：4 小時  
**檔案**：`screenshots/<xxx>.png`

---

## 一、摘要（Summary）

完成本房間的練習後，我熟悉了基本的 Linux 檔案與目錄操作、檔名中的特殊字元處理（引號與跳脫）、隱藏檔案的檢視方法與利用 `file` / `find` 判斷檔案屬性以尋找 flag 的流程。整個過程加強了我在受控環境中以系統原生工具偵查、擷取資訊與驗證結果的能力。

---

## 二、環境（Environment）

- **Host OS**: Linux  
- **VM**: Kali Linux（VirtualBox）  
- **平台帳號**：OverTheWire（Bandit 練習平台）  
- **工具**：系統內建命令列工具（SSH 客戶端、檔案系統與檔案檢查工具等）  
- **擷取截圖**：`screenshots/<xxx>.png`

---

## 三、問題描述（Problem Statement）

**前置**：先以 SSH 連線至遠端 Bandit 主機，才能開始各關練習。  
每一關的目標皆為在指定位置找到下一關的密碼（flag），但檔名、檔案屬性或檔案位置會逐步增加變化與難度：

- **Level 0**：在根目錄下找到名為 `readme` 的檔案，內含下一關密碼。  
- **Level 1**：要處理名稱由特殊符號組成的檔案（需特別處理檔名以正確存取）。  
- **Level 2**：檔名為 `--spaces in this filename--`，中間包含空白與符號。  
- **Level 3**：密碼儲存在 `inhere` 目錄中的隱藏檔案（以「隱藏檔」形式出現）。  
- **Level 4**：密碼儲存在 `inhere` 目錄中唯一一個「人類可讀」的檔案（要篩選文件屬性）。  
- **Level 5**：要找出「人類可讀、大小為 1033 bytes、不可執行」的檔案，並讀出內部內容。

> 注意：本 writeup 以概念與流程為主，不貼可被濫用的具體 exploit 指令。

---

## 四、關鍵步驟摘要（High-level Steps / 流程概述）

### 連線與初始偵查
- 使用 SSH 連線到 Bandit 主機（需指定遠端連接埠）。  
  範例指令格式（示意）：
  ```bash
  ssh (使用者名稱)@(連線主機) -p 2220
  ```
  例：連線埠: 2220，使用者名稱 `bandit0`，密碼 `bandit0`。

- 以當前關卡的使用者帳號登入（如 `bandit0`），初步檢視當前目錄內容與檔案屬性（包含顯示隱藏檔案與詳細清單）。

---

### Level 0 → Level 1（讀取根目錄的 `readme`）
1. 列出根目錄檔案，找到名為 `readme` 的檔案。  
   範例：
   ```bash
   ls
   cat "./readme"
   ```
2. 讀取該檔案內容以取得下一關密碼。

---

### Level 1 → Level 2（處理特殊字元檔名）
- 發現檔案名稱包含特殊符號，若直接輸入會被 shell 解讀錯誤。  
- 採用「以字串視為整體」的方法（例如使用引號或其他方式）處理檔名，成功讀出檔案內容獲取密碼。

---

### Level 2 → Level 3（檔名含空白）
- 檔名含空白與符號，需對空白做跳脫或同樣使用引號包起整個檔名，以正確定位並讀取檔案。  
- 讀取該檔案以取得下一關密碼。

---

### Level 3 → Level 4（隱藏檔案）
1. 使用列出所有檔案（含隱藏檔）的方式來檢視 `inhere` 目錄內的內容：
   ```bash
   ls -al
   ```
2. 進入 `inhere` 並找到隱藏檔（名稱以點開頭或其他隱藏形式），讀取隱藏檔內容取得密碼。

---

### Level 4 → Level 5（篩選「人類可讀」檔案）
- 在目錄中篩選檔案屬性（例如使用 `file` 或類似工具）以找出「human-readable（人類可讀）」的檔案。  
  範例：
  ```bash
  file ./-file*
  ```
- 當只找到唯一一個可讀檔案時，讀取其內容獲取下一關密碼。

---

### Level 5（搜尋特定屬性檔案）
- 當條件變為「人類可讀、大小特定（1033 bytes）、不可執行」，可用檔案屬性查詢與搜尋工具來過濾出符合條件的檔案。  
  範例（示意）：
  ```bash
  find ./ -type f -size 1033c ! -executable
  ```
  （說明：`-type f`：檔案，`-size 1033c`：1033 bytes，`! -executable`：不可執行）
- 找到符合條件的檔案後，讀取其內容以取得 flag。

---

## 五、初始偵查與思考流程（Recon & Reasoning）

- **初始偵查**：先列出當前目錄、檢查檔案列表（含隱藏檔）、觀察檔案大小與權限、使用工具判斷檔案型態（是否為純文字）。  
- **重建線索**：若檔案名稱或內容有不明提示（如特殊字元、空白、隱藏），思考如何以 shell 安全方式引用該檔名或如何用系統工具檢查。  
- **獲取目標**：使用系統內建功能（檔案列表、屬性檢查、篩選與搜尋）定位目標檔案，並以適當方法讀取。  
- **驗證**：確認讀出的內容為下一關密碼（通常以一行字串形式出現），再以該密碼登入下一關帳號以繼續。

---

## 六、學到的要點（Lessons Learned）

1. **SSH 連線與指定連接埠**  
   - 知道如何在 SSH 中指定遠端連接埠，是遠端登入常見需求（尤其練習平台常用非標準埠）。

2. **檔名處理（引號與跳脫）**  
   - 當檔名包含空白或特殊字元時，可利用引號包住整個檔名或使用跳脫字元來避免 shell 誤解析。

3. **隱藏檔案與詳細清單**  
   - 使用能列出隱藏檔的檔案清單方式（例如 `ls -al`）來發現以點（`.`）開頭或被隱藏的檔案。

4. **使用 `file` 及 `find` 來判別檔案屬性**  
   - `file`（或等效工具）可以用來判斷檔案是否為純文字（human-readable），`find` 可以依檔案大小、型態與執行權限進行篩選。

5. **紀錄實驗日誌與截圖**  
   - 在練習過程中保存關鍵步驟的截圖與操作紀錄，有助於事後回顧與撰寫 writeup。

---

## 七、MITRE ATT&CK 對應（）

- **Tactic（戰術）**：Learning / Discovery（本練習主要為學習基礎操作與系統探索）  
- **Technique（技術）**：N/A（本關卡為基礎教學題，重點為熟悉系統工具與檔案處理）

> 若用於紅隊技能成長，相關技巧屬於「資產偵查（Discovery）」的基礎操作。

---

## 八、參考（References）

- OverTheWire — Bandit official site（練習平台首頁）  
- Linux 基本檔案系統與命令教學（`file` / `find` / `ls` / `cat` 等工具的官方或教學文件）  
- 推薦延伸閱讀：Linux command line 教學、shell quoting 與 escaping 文件、`find` 與 `file` 使用教學文章
